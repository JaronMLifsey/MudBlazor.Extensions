"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),MudBlazorExtensionHelper=function(){function n(t,i,r){var u=this,e;_classCallCheck(this,n);this.dotnet=i;this.onDone=r;this.options=t;this.mudDialogSelector=t.mudDialogSelector||".mud-dialog";this.mudDialogHeaderSelector=t.mudDialogHeaderSelector||".mud-dialog-title";this.dialog=document.querySelector(this.mudDialogSelector);t.disablePositionMargin&&this.dialog.classList.add("mud-dialog-position-fixed");var s=t.dialogPositionNames,f="mud-dialog-from-right",o="mud-dialog-to-right";this.dialog.classList.add(f,"mud-dialog-animate-ex");setTimeout(function(){u.dialog.classList.remove(f);u.dialog.classList.add(o);setTimeout(function(){return u.dialog.classList.remove("mud-dialog-animate-ex")},500)},5);t.fullHeight&&(e=t.disableSizeMargin?"mud-dialog-height-full-no-margin":"mud-dialog-height-full",this.dialog.classList.add(e));t.fullWidth&&t.disableSizeMargin&&(this.dialog.classList.remove("mud-dialog-width-full"),this.dialog.classList.add("mud-dialog-width-full-no-margin"));this.dialogHeader=this.dialog.querySelector(this.mudDialogHeaderSelector)}return _createClass(n,[{key:"handleExtensions",value:function(){var n=this;this.options.buttons.forEach(function(t){n.dialogHeader.insertAdjacentHTML("beforeend",t.html);var i=n.dialogHeader.querySelector("#"+t.id);i.onclick=function(){t.id.indexOf("mud-button-maximize")>=0?n.maximize():t.callBackReference.invokeMethodAsync(t.callbackName)}});this.options.dragMode!==0&&this.dialog&&(this.dragElement(this.dialog,this.dialogHeader),this.done());this.options.resizeable&&(this.dialog.style.position="absolute",this.dialog.style.resize="both",this.dialog.style.overflow="auto",this.dialog.style.maxWidth=window.innerWidth+"px",this.dialog.style.maxHeight=window.innerHeight+"px",this.dialog.style.minWidth="100px",this.dialog.style.minHeight="100px")}},{key:"maximize",value:function(){this._oldStyle?(this.dialog.style=this._oldStyle,delete this._oldStyle):(this._oldStyle=this.dialog.style,this.dialog.style.position="absolute",this.dialog.style.left="0px",this.dialog.style.top="0px",this.dialog.style.maxWidth=this.dialog.style.width=window.innerWidth+"px",this.dialog.style.maxHeight=this.dialog.style.height=window.innerHeight+"px")}},{key:"done",value:function(){this.observer&&this.observer.disconnect();this.onDone&&this.onDone()}},{key:"init",value:function(){var n=this;this.dialog=this.dialog||document.querySelector(this.mudDialogSelector);this.dialog?this.handleExtensions():(this.observer=new MutationObserver(function(t){var i=t.filter(function(t){return t.addedNodes&&t.addedNodes[0]===document.querySelector(n.mudDialogSelector)});i.length&&(n.dialog=i[0].addedNodes[0],n.observer.disconnect(),n.handleExtensions())}),this.observer.observe(document,{characterData:!0,childList:!0,subtree:!0}))}},{key:"dragElement",value:function(n,t,i){function o(n){n=n||window.event;n.preventDefault();r=n.clientX;u=n.clientY;document.onmouseup=h;document.onmousemove=s}function s(t){t=t||window.event;t.preventDefault();f=r-t.clientX;e=u-t.clientY;r=t.clientX;u=t.clientY;var h={x:i.offsetWidth-n.offsetWidth,y:(i===document.body?window.innerHeight:i.offsetHeight)-n.offsetHeight},o=n.offsetTop-e,s=n.offsetLeft-f;n.style.position="absolute";s>0&&s<h.x&&(n.style.left=s+"px");o>0&&o<h.y&&(n.style.top=o+"px");f=r-t.clientX;e=u-t.clientY;r=t.clientX;u=t.clientY}function h(){document.onmouseup=null;document.onmousemove=null}var f=0,e=0,r=0,u=0;i=i||document.body;t?(t.style.cursor="move",t.onmousedown=o):n.onmousedown=o}}]),n}();window.MudBlazorExtensions={helper:null,setNextDialogOptions:function(n,t){MudBlazorExtensions.helper=new MudBlazorExtensionHelper(n,t,function(){MudBlazorExtensions.helper=null;delete MudBlazorExtensions.helper});MudBlazorExtensions.helper.init()},addCss:function(n){var i=n,r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");r.appendChild(t);t.type="text/css";t.styleSheet?t.styleSheet.cssText=i:t.appendChild(document.createTextNode(i))}};
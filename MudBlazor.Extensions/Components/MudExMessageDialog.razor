@namespace MudBlazor.Extensions.Components
@using MudBlazor.Extensions.Helper
@inherits MudExBaseComponent<MudExMessageDialog>

<MudDialog Style="@Style" Class="@($"{MudExCss.Classes.Dialog._Initial} {Class}")" ClassContent="@ClassContent"
    ClassActions="@ClassActions"
    ContentStyle="@ContentStyle">
    <TitleContent>
        @if (ShowProgress)
        {
            <MudProgressLinear Class="mud-ex-dialog-header-progress" Max="@ProgressMax" Min="@ProgressMin" Color="Color.Primary" Value="@ProgressValue" Indeterminate="@(ProgressValue <= ProgressMin || ProgressValue > ProgressMax)" />
        }
        <MudText Typo="Typo.h6">
            <MudIcon Color="Color.Error" Icon="@Icon" Class="mr-3 mb-n1"/>
            @TryLocalize(MudDialog.Title)
        </MudText>
    </TitleContent>
    <DialogContent>
        @if (!string.IsNullOrEmpty(Message))
        {
            <MudText>@TryLocalize(Message)</MudText>
        }
        @if (Content != null)
        {
            @Content
        }
    </DialogContent>
    <DialogActions>
        @if (Buttons?.Any() == true)
        {
            foreach (var action in Buttons)
            {
                <MudButton Color="@action.Color" Variant="@action.Variant" OnClick="@(() => Submit(action.Result))">@TryLocalize(action.Label)</MudButton>
            }
        }
        else if (!AllowEmptyActions)
        {
            <MudButton Color="Color.Error" Variant="Variant.Filled" OnClick="Cancel">@TryLocalize("Close")</MudButton>
        }
    </DialogActions>
</MudDialog>

@using MudBlazor.Extensions.Components.ObjectEdit
@using MudBlazor.Extensions.Components.ObjectEdit.Options
@inherits MudExBaseComponent<MudExThemeEdit<TTheme>>
@typeparam TTheme where TTheme : MudTheme

@if (Presets?.Any() == true)
{

}

@if (Theme is not null)
{
    <MudExObjectEditForm T="TTheme"
                         @ref="ObjectEditor"
                         LightOverlayLoadingBackground="@(!IsDark ?? false)"
                         IsLoading="@_isLoading"
                         MetaConfiguration="ThemeEditMetaConfiguration"
                         Value="Theme"
                         AutoSkeletonOnLoad="true"
                         AllowImport="true"
                         AllowExport="true"
                         AutoSaveRestoreState="true"
                         StickyActionBar="true"
                         
                         OnValidSubmit="OnValidSubmit"
                         OnCancel="OnCancel"
                         BeforeImport="BeforeImport"
                         AfterImport="AfterImport"
                         BeforeExport="BeforeExport"
                         PropertyChanged="OnPropertyChanged"
                         ValueChanged="OnThemeChanged">
        <ToolBarContent>
            @if (AllowModeToggle)
            {
                <MudExEnumSelect Style="max-width:300px;" FilterEnabled="false" Clearable="false" TEnum="ThemeEditMode" ValueChanged="@EditModeChangedInternally" Value="@EditMode"></MudExEnumSelect>
                <MudSpacer/>
            }
        </ToolBarContent>
    </MudExObjectEditForm>
}
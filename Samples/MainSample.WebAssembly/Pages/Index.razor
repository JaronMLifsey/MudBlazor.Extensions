@inject NavigationManager Navi;
@inject HttpClient Http
@page "/"

@using MudBlazor.Extensions.Helper

<style>
    .mud-ex-object-edit-group-flat .mud-expand-panel-text:after {
        background-color: var(@Color.Secondary.CssVarName());
    }
</style>

<Support />

<MudExpansionPanels MultiExpansion="true">
    <MudExpansionPanel IsInitiallyExpanded="true" Class="@($"mt-3 {("mud-ex-object-edit-group-flat")}")" Text="DEMOS">
        <MudExCardList TData="object">

            @foreach (var nav in DemoAttribute.AllEntries(true))
            {
                <MudCard Style="width: 25%" @onclick="@(() => { Open(nav); })">
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h6">@nav.Text</MudText>
                        </CardHeaderContent>
                        <CardHeaderActions>
                            <MudIconButton Icon="@nav.Icon" Color="Color.Default" />
                        </CardHeaderActions>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText>@nav.Demo.Name</MudText>
                    </MudCardContent>
                </MudCard>
            }
        </MudExCardList>
    </MudExpansionPanel>

    <MudExpansionPanel IsInitiallyExpanded="false" Class="@($"mt-3 {("mud-ex-object-edit-group-flat")}")" Text="ALL COMPONENTS">
        <MudExCardList TData="object">

            @foreach (var nav in Navigations.ReflectMudExComponents())
            {
                <MudCard Style="width: 25%" @onclick="@(() => { Open(nav); })">
                    <MudCardHeader>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h6">@nav.Text</MudText>
                        </CardHeaderContent>
                        <CardHeaderActions>
                            <MudIconButton Icon="@nav.Icon" Color="Color.Default" />
                        </CardHeaderActions>
                    </MudCardHeader>
                    <MudCardContent>
                        <MudText>@nav.Text</MudText>
                    </MudCardContent>
                </MudCard>
            }
        </MudExCardList>
    </MudExpansionPanel>

</MudExpansionPanels>


@code
{

    private void Open(NavigationEntry nav)
    {
        Navi.NavigateTo(nav.Href);
        
    }
}